#ifndef INVQUANTIZER_H
#define INVQUANTIZER_H

#define MAX_STEP_8 256
#define MAX_STEP_4 4096
#define MAX_STEP_2 16384

typedef struct inv_quantizer {
    unsigned short word_size;
    float step_size;
} inv_quantizer;

//Look up tables for quantizer multipliers

float mult_8bit[] = 
{0.9010, 0.9011, 0.9012, 0.9013, 0.9013, 0.9014, 0.9015, 0.9016, 
 0.9017, 0.9018, 0.9019, 0.9021, 0.9022, 0.9023, 0.9025, 0.9027, 
 0.9028, 0.9030, 0.9032, 0.9034, 0.9036, 0.9039, 0.9041, 0.9044, 
 0.9047, 0.9050, 0.9053, 0.9056, 0.9060, 0.9064, 0.9068, 0.9072, 
 0.9077, 0.9082, 0.9087, 0.9093, 0.9099, 0.9105, 0.9112, 0.9119, 
 0.9127, 0.9135, 0.9144, 0.9153, 0.9163, 0.9173, 0.9184, 0.9196, 
 0.9209, 0.9222, 0.9237, 0.9252, 0.9268, 0.9286, 0.9304, 0.9324, 
 0.9344, 0.9367, 0.9390, 0.9415, 0.9442, 0.9471, 0.9501, 0.9533, 
 0.9568, 0.9604, 0.9643, 0.9685, 0.9729, 0.9776, 0.9826, 0.9879, 
 0.9936, 0.9996, 1.0061, 1.0129, 1.0202, 1.0280, 1.0362, 1.0450, 
 1.0543, 1.0643, 1.0749, 1.0862, 1.0982, 1.1110, 1.1246, 1.1390, 
 1.1545, 1.1709, 1.1883, 1.2069, 1.2267, 1.2478, 1.2702, 1.2941, 
 1.3195, 1.3466, 1.3754, 1.4061, 1.4387, 1.4734, 1.5104, 1.5498, 
 1.5917, 1.6363, 1.6838, 1.7344, 1.7882, 1.8454, 1.9064, 1.9713, 
 2.0404, 2.1140, 2.1923, 2.2756, 2.3643, 2.4588, 2.5593, 2.6663, 
 2.7802, 2.9015, 3.0306, 3.1680, 3.3143, 3.4700, 3.6357, 3.8122};

float mult_4bit[] = {0.98, 0.98, 1.00, 1.02,
                     1.06, 1.20, 1.60, 2.80};

float mult_2bit[] = {0.8, 1.6};

short inv_quantize(unsigned char codeword, inv_quantizer *quantizer);

#endif